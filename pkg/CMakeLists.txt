set(installable_libs "c3" "ent" "ur" "noun" "urcrypt" "vere")

foreach (pkg ${installable_libs})
    add_subdirectory("${pkg}")
endforeach (pkg ${installable_libs})

list(APPEND installable_libs "ge-additions")

#########
# Tests #
#########

# TODO

#################
# Install rules #
#################

include(GNUInstallDirs)

if (TARGET "${DEPENDANT_LIBRARY}")
    list(APPEND installable_libs "${DEPENDANT_LIBRARY}")
endif ()
if (CMAKE_VERSION VERSION_GREATER_EQUAL "3.13")
    list(APPEND installable_libs "${PROJECT_NAME}_compiler_flags")
endif ()
install(TARGETS ${installable_libs}
        EXPORT "${LIBRARY_NAME}Targets"
        ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
        LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
        RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}")
install(EXPORT "${LIBRARY_NAME}Targets"
        DESTINATION "${CMAKE_INSTALL_DATADIR}/${LIBRARY_NAME}")
